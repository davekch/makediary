# makediary
Little program to help you organize a diary-like structured document.

## Example Usage
Suppose you have a directory that is structured similar to this:
```
diary
├── 2017
│   ├── 2017-04-03.tex
│   ├── 2017-09-10.tex
│   └── 2017-11-12.tex
└── 2018
    ├── 2018-06-18.tex
    └── 2018-12-30.tex

```
Now you need to include each of those files to your main document (ugh!) for example like this:
```latex
\begin{diaryentry}{3.\,4.\,2017}
  \include{diary/2017/2017-04-03.tex}
\end{diaryentry}
```
Luckily, `makediary` does this for you. You simply need to provide a template file that defines how each entry should be included.
```latex
% template.tex
\begin{diaryentry}{#DATE}
  \include{#FILEPATH}
\end{diaryentry}
```
Just run `makediary template.tex autogenerated.tex diary`.

The program will write the template to `autogenerated.tex` for every document in the diary folder and replace `#DATE` with a beautifully formatted date deduced from the filename and `#FILEPATH` with the path to the file.

In your main document, just write `\include{autogenerated}` and you're done.

## General Usage
```
makediary templatefile outputfile diaryfolder
```
`makediary` is not restricted to LaTeX, you can use a template of any type. You can use the following variables inside the template:

name | value
--- | ---
`#DATE    `  | date in readable format, derived from filename
`#FILENAME`  | name of the file
`#FILEPATH`  | relative path to file, including filename

Also, the "diary"-directory doesn't need to be structured in any particular way, `makediary` just picks every file that is named like year-month-day.

The seperator in the filenames doesn't need to be a '-', it can be any character that's not a digit, but year, month and day *must* be digits.

**Caution**: Right now the program will crash if there's a file that is not named after y-m-d. Fix coming soon :)

## Download and Build
`makediary` is written in Haskell, so you need a Haskell compiler, eg. ghc.
It also depends on [`directory-tree`](http://hackage.haskell.org/package/directory-tree).

```
git clone https://github.com/davekch/makediary.git
cd makediary
ghc --make makediary.hs
```
